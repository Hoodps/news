/**
 * Created by 小银龙 on 14-5-26.
 */
define("extend/utils/1.0.0/utils",["jquery","artDialogPlus"],function(a){var d=a("jquery"),e=a("artDialogPlus");return{code:{"\u767b\u5f55\u6210\u529f":1e4,"\u767b\u5f55\u8d85\u65f6":10001,"\u7528\u6237\u540d\u9519\u8bef":10002,"\u5bc6\u7801\u9519\u8bef":10003,"\u9a8c\u8bc1\u7801\u9519\u8bef":10004,"\u6743\u9650\u4e0d\u591f":10005,"\u6210\u529f":10006,"\u5931\u8d25":10007},log:function(a,b,c){var d=this,e=+new Date;b=b||"item",c=c||"info",d.start_time="group"===b?page_run_start_time:"group"===d.group?e:d.start_time||page_run_start_time,d.start_time=e,d.group=b},dialog:e,alert:function(a,b){return e.alert(a,b)},confirm:function(a,b,c){return e.confirm(a,b,c)},tips:function(a,b,c){return e.tip(a,b,c)},loading:function(a,b){return e.loading(a,b)},follow:function(a,b,c){a=a instanceof jQuery?a[0]:a;var f=e(d.extend({id:"js-dialog-follow",skin:"js-dialog-follow",padding:"5px 20px",quickClose:!0,fixed:!1,content:b},c)).show(a);return setTimeout(function(){f.remove()},2e3),f},tongJi:function(a){asyncTongJi("object"==typeof a&&a instanceof Array?a:[a])},ajax:function(a,b){var c=this;return window.jqXHR=d.ajax(d.extend({type:"get",cache:!1,timeout:3e4,dataType:"json"},a)).done(function(d){d.S===c.code["\u767b\u5f55\u8d85\u65f6"]&&c.login({onSuccess:function(){b?b():c.ajax(a)}})})},login:function(b){a.async("login",function(a){a(b)})},page:function(b){a.async("page",function(a){a(b)})},mvcPage:function(){a.async("mvcPage")},calendar:function(b){a.async("calendar",function(a){b&&b(a)})},calendarPlus:function(b){a.async("calendarPlus",function(a){b&&b(a)})},timer:function(b){a.async("timer",function(){b&&b()})},cookie:function(b){a.async("cookie",function(a){b&&b(a)})},store:function(b){a.async("store",function(a){b&&b(a)})},url:function(b){a.async("jsuri",function(a){b&&b(a)})},md5:function(b){a.async("md5",function(a){b&&b(a)})},detector:function(b){a.async("detector",function(a){b&&b(a)})},moment:function(b){a.async("moment",function(a){b&&b(a)})},sticky:function(b){a.async("sticky",function(a){b&&b(a)})},position:function(b){a.async("position",function(a){b&&b(a)})},messenger:function(b){a.async("messenger",function(a){b&&b(a)})},qrcode:function(b){a.async("qrcode",function(a){b&&b(a)})},tip:function(b){a.async("tip",function(a){b&&b(a)})},dateFormat:function(a,b){var c=new Date;"object"==typeof a?c=a:"string"==typeof a&&(c=a.match(/\d{9,}/g)?new Date(parseInt(a.replace(/\D+/g,""))):new Date(a.replace(/-/gi,"/")));var d=c.getFullYear(),e=c.getMonth()+1,f=c.getDate(),g=c.getHours(),h=c.getMinutes(),i=c.getSeconds();return e=10>e?"0"+e:e,f=10>f?"0"+f:f,g=10>g?"0"+g:g,h=10>h?"0"+h:h,i=10>i?"0"+i:i,b=b||"yy-mm-dd hh:min:sec",b.replace(/yy/gi,d).replace(/mm/gi,e).replace(/dd/gi,f).replace(/hh/gi,g).replace(/min/gi,h).replace(/sec/gi,i)},emoticons:function(b){a.async("emoticons",function(a){b&&b(a)})},insertAtCaret:function(a,b){"use strict";if(a.focus(),document.selection){var c=document.selection.createRange();c.text=b}else if("number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd){var d=a.selectionStart,e=a.selectionEnd,f=d,g=a.value;a.value=g.substring(0,d)+b+g.substring(e,g.length),f+=b.length,a.selectionStart=a.selectionEnd=f}else a.value+=b}}});